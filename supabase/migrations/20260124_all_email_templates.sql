-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- SNIPPY MART - COMPLETE EMAIL TEMPLATE SUITE
-- Modern React Email â€¢ Lucide Icons â€¢ Glassmorphism â€¢ Mobile Responsive
-- Generated: 2026-01-24T08:56:25.368Z
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


-- ORDER CONFIRMATION
INSERT INTO email_templates (template_key, name, subject, html_content, description, variables, is_active)
VALUES 
(
    'order_confirmation', 
    'Order Confirmation', 
    'âœ… Order Confirmed - Snippy Mart #{{order_id}}',
    '<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><!--$--><html dir="ltr" lang="en"><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/><meta name="x-apple-disable-message-reformatting"/></head><div style="display:none;overflow:hidden;line-height:1px;opacity:0;max-height:0;max-width:0" data-skip-in-text="true">Your order #{{order_id}} has been confirmed! ğŸ‰<div>Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿</div></div><body style="background-color:#f5f5f5"><table border="0" width="100%" cellPadding="0" cellSpacing="0" role="presentation" align="center"><tbody><tr><td style="background-color:#f5f5f5;font-family:-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Helvetica, Arial, sans-serif;padding:20px 0"><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="max-width:600px;margin:0 auto;padding:0 10px"><tbody><tr style="width:100%"><td><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="background:linear-gradient(135deg, #1e293b 0%, #0f172a 100%);border-radius:20px;box-shadow:0 20px 60px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.05);overflow:hidden"><tbody><tr><td><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="padding:32px 24px 24px;text-align:center"><tbody><tr><td><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation"><tbody style="width:100%"><tr style="width:100%"><td data-id="__react-email-column" style="width:48px;padding-right:12px"><div style="width:48px;height:48px;background:linear-gradient(135deg, #10b981 0%, #059669 100%);border-radius:12px;display:flex;align-items:center;justify-content:center;box-shadow:0 8px 24px rgba(16, 185, 129, 0.3)"><div style="color:#ffffff"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path></svg></div></div></td><td data-id="__react-email-column"><h1 style="margin:0;color:#ffffff;font-size:26px;font-weight:800;letter-spacing:-0.5px">Snippy <span style="color:#10b981">Mart</span></h1></td></tr></tbody></table></td></tr></tbody></table><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="padding:0 24px 28px;text-align:center"><tbody><tr><td><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation"><tbody style="width:100%"><tr style="width:100%"><td data-id="__react-email-column" style="width:40px;padding-right:12px"><div style="color:#ffffff"><svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg></div></td><td data-id="__react-email-column"><h1 style="margin:0;color:#ffffff;font-size:20px;font-weight:700">Order Confirmed!</h1></td></tr></tbody></table></td></tr></tbody></table><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="padding:0 24px 28px"><tbody><tr><td><p style="font-size:16px;line-height:24px;margin:0 0 12px;color:#e2e8f0;margin-top:0;margin-right:0;margin-bottom:12px;margin-left:0">Hey <strong style="color:#ffffff">{{customer_name}}</strong>! ğŸ‘‹</p><p style="font-size:15px;line-height:24px;margin:0;color:#cbd5e1;margin-top:0;margin-bottom:0;margin-left:0;margin-right:0">Thank you for your purchase. We&#x27;ve received your order and our team is preparing your subscription. You&#x27;ll receive your login details shortly!</p></td></tr></tbody></table><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="padding:0 24px 28px"><tbody><tr><td><div style="background:rgba(15, 23, 42, 0.6);backdrop-filter:blur(10px);border-radius:16px;border:1px solid rgba(255, 255, 255, 0.08);padding:24px;box-shadow:inset 0 1px 0 rgba(255, 255, 255, 0.05)"><div style="padding-bottom:18px;margin-bottom:18px;border-bottom:1px solid rgba(255, 255, 255, 0.08)"><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation"><tbody style="width:100%"><tr style="width:100%"><td data-id="__react-email-column" style="width:20px;padding-right:8px"><div style="color:#94a3b8"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg></div></td><td data-id="__react-email-column"><p style="font-size:11px;line-height:24px;margin:0 0 6px;color:#94a3b8;text-transform:uppercase;letter-spacing:1px;font-weight:600;margin-top:0;margin-right:0;margin-bottom:6px;margin-left:0">Order Number</p><p style="font-size:17px;line-height:24px;margin:0;color:#10b981;font-weight:700;font-family:monospace;margin-top:0;margin-bottom:0;margin-left:0;margin-right:0">#<!-- -->{{order_id}}</p></td></tr></tbody></table></div><div style="padding-bottom:18px;margin-bottom:18px;border-bottom:1px solid rgba(255, 255, 255, 0.08)"><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation"><tbody style="width:100%"><tr style="width:100%"><td data-id="__react-email-column" style="width:20px;padding-right:8px"><div style="color:#94a3b8"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path></svg></div></td><td data-id="__react-email-column"><p style="font-size:11px;line-height:24px;margin:0 0 6px;color:#94a3b8;text-transform:uppercase;letter-spacing:1px;font-weight:600;margin-top:0;margin-right:0;margin-bottom:6px;margin-left:0">Items Purchased</p><p style="font-size:14px;line-height:22px;margin:0;color:#ffffff;margin-top:0;margin-bottom:0;margin-left:0;margin-right:0">{{items}}</p></td></tr></tbody></table></div><div style="padding-bottom:18px;margin-bottom:18px;border-bottom:1px solid rgba(255, 255, 255, 0.08)"><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation"><tbody style="width:100%"><tr style="width:100%"><td data-id="__react-email-column" style="width:50%;vertical-align:top"><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation"><tbody style="width:100%"><tr style="width:100%"><td data-id="__react-email-column" style="width:20px;padding-right:8px"><div style="color:#94a3b8"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg></div></td><td data-id="__react-email-column"><p style="font-size:11px;line-height:24px;margin:0 0 6px;color:#94a3b8;text-transform:uppercase;letter-spacing:1px;font-weight:600;margin-top:0;margin-right:0;margin-bottom:6px;margin-left:0">Total Amount</p><p style="font-size:22px;line-height:24px;margin:0;color:#10b981;font-weight:800;margin-top:0;margin-bottom:0;margin-left:0;margin-right:0">{{total}}</p></td></tr></tbody></table></td><td data-id="__react-email-column" style="width:50%;vertical-align:top;text-align:right"><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation"><tbody style="width:100%"><tr style="width:100%"><td data-id="__react-email-column" style="width:20px;padding-right:8px"><div style="color:#94a3b8"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect><line x1="1" y1="10" x2="23" y2="10"></line></svg></div></td><td data-id="__react-email-column"><p style="font-size:11px;line-height:24px;margin:0 0 6px;color:#94a3b8;text-transform:uppercase;letter-spacing:1px;font-weight:600;margin-top:0;margin-right:0;margin-bottom:6px;margin-left:0">Payment</p><p style="font-size:13px;line-height:24px;margin:0;color:#ffffff;font-weight:600;margin-top:0;margin-bottom:0;margin-left:0;margin-right:0">{{payment_method}}</p></td></tr></tbody></table></td></tr></tbody></table></div><div style="padding-top:15px"><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation"><tbody style="width:100%"><tr style="width:100%"><td data-id="__react-email-column" style="width:20px;padding-right:8px"><div style="color:#94a3b8"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg></div></td><td data-id="__react-email-column"><p style="font-size:11px;line-height:24px;margin:0 0 6px;color:#94a3b8;text-transform:uppercase;letter-spacing:1px;font-weight:600;margin-top:0;margin-right:0;margin-bottom:6px;margin-left:0">Status</p><span style="display:inline-block;background:rgba(16, 185, 129, 0.15);color:#10b981;padding:6px 14px;border-radius:20px;font-size:12px;font-weight:600;border:1px solid rgba(16, 185, 129, 0.3)">Processing</span></td></tr></tbody></table></div></div></td></tr></tbody></table><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="padding:0 24px 32px;text-align:center"><tbody><tr><td><a href="https://snippymart.com/track-order?orderId={{order_id}}" style="color:#ffffff;text-decoration-line:none;display:inline-block;background:linear-gradient(135deg, #10b981 0%, #059669 100%);padding:16px 36px;border-radius:14px;font-weight:700;text-decoration:none;font-size:15px;box-shadow:0 12px 32px rgba(16, 185, 129, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2);border:1px solid rgba(255, 255, 255, 0.1)" target="_blank"><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation"><tbody style="width:100%"><tr style="width:100%"><td data-id="__react-email-column" style="padding-right:8px">Track Your Order</td><td data-id="__react-email-column" style="width:20px"><div style="color:#ffffff"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></div></td></tr></tbody></table></a></td></tr></tbody></table><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="padding:28px 24px;background:rgba(15, 23, 42, 0.5);border-top:1px solid rgba(255, 255, 255, 0.08);text-align:center"><tbody><tr><td><p style="font-size:12px;line-height:24px;margin:0 0 6px;color:#94a3b8;margin-top:0;margin-right:0;margin-bottom:6px;margin-left:0">Snippy Mart â€¢ Premium Digital Subscriptions</p><p style="font-size:11px;line-height:24px;margin:0;color:#64748b;margin-top:0;margin-bottom:0;margin-left:0;margin-right:0">Â© 2026 All rights reserved</p></td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table></body></html><!--/$-->',
    'Sent immediately after customer places an order',
    '["customer_name", "order_id", "total", "items", "payment_method"]'::jsonb,
    true
)
ON CONFLICT (template_key) DO UPDATE 
SET subject = EXCLUDED.subject, 
    html_content = EXCLUDED.html_content, 
    variables = EXCLUDED.variables,
    description = EXCLUDED.description,
    updated_at = NOW();


-- ORDER DELIVERED
INSERT INTO email_templates (template_key, name, subject, html_content, description, variables, is_active)
VALUES 
(
    'order_delivered', 
    'Order Delivered', 
    'ğŸ‰ Your Order Has Been Delivered - {{order_id}}',
    '<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><!--$--><html dir="ltr" lang="en"><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/><meta name="x-apple-disable-message-reformatting"/></head><body style="background-color:#f5f5f5"><table border="0" width="100%" cellPadding="0" cellSpacing="0" role="presentation" align="center"><tbody><tr><td style="background-color:#f5f5f5;font-family:-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Helvetica, Arial, sans-serif;padding:20px 0"><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="max-width:600px;margin:0 auto;padding:0 10px"><tbody><tr style="width:100%"><td><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="background:linear-gradient(135deg, #1e293b 0%, #0f172a 100%);border-radius:20px;box-shadow:0 20px 60px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.05);overflow:hidden"><tbody><tr><td><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="padding:32px 24px 24px;text-align:center"><tbody><tr><td><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation"><tbody style="width:100%"><tr style="width:100%"><td data-id="__react-email-column" style="width:48px;padding-right:12px"><div style="width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);box-shadow:0 8px 24px rgba(59, 130, 246, 0.4)"><div style="color:#ffffff"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path></svg></div></div></td><td data-id="__react-email-column"><h1 style="margin:0;color:#ffffff;font-size:26px;font-weight:800;letter-spacing:-0.5px">Snippy <span style="color:#3b82f6">Mart</span></h1></td></tr></tbody></table></td></tr></tbody></table><html dir="ltr" lang="en"><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/><meta name="x-apple-disable-message-reformatting"/></head><div style="display:none;overflow:hidden;line-height:1px;opacity:0;max-height:0;max-width:0" data-skip-in-text="true">Your order {{order_id}} has been delivered successfully!<div>Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿</div></div><body style="background-color:#f3f4f6"><table border="0" width="100%" cellPadding="0" cellSpacing="0" role="presentation" align="center"><tbody><tr><td style="background-color:#f3f4f6;font-family:-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, sans-serif"><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="max-width:600px;margin:0 auto;padding:20px 0"><tbody><tr style="width:100%"><td><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="text-align:center;padding:20px 0"><tbody><tr><td><div style="display:inline-block;background:linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);border-radius:50%;padding:20px;box-shadow:0 10px 30px rgba(59, 130, 246, 0.3)"><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg></div></td></tr></tbody></table><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="background-color:#ffffff;border-radius:16px;padding:40px;box-shadow:0 4px 20px rgba(0, 0, 0, 0.08)"><tbody><tr><td><p style="font-size:28px;line-height:24px;font-weight:700;color:#1f2937;margin:0 0 20px 0;text-align:center;margin-top:0;margin-right:0;margin-bottom:20px;margin-left:0">Delivery Confirmed!</p><p style="font-size:16px;line-height:24px;color:#4b5563;margin:0 0 16px 0;margin-top:0;margin-right:0;margin-bottom:16px;margin-left:0">Hi <!-- -->{{customer_name}}<!-- -->,</p><p style="font-size:16px;line-height:24px;color:#4b5563;margin:0 0 16px 0;margin-top:0;margin-right:0;margin-bottom:16px;margin-left:0">Great news! Your order has been successfully delivered. We hope you love your purchase!</p><div style="background-color:rgba(59, 130, 246, 0.05);border-radius:12px;padding:24px;margin:24px 0;border:1px solid rgba(59, 130, 246, 0.1)"><table style="width:100%" cellPadding="0" cellSpacing="0"><tr><td style="display:flex;align-items:center;padding:12px 0;border-bottom:1px solid rgba(59, 130, 246, 0.1)"><div style="margin-right:12px;display:flex;align-items:center"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#3b82f6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg></div><div style="flex:1"><p style="font-size:12px;line-height:24px;color:#6b7280;margin:0 0 4px 0;text-transform:uppercase;letter-spacing:0.5px;margin-top:0;margin-right:0;margin-bottom:4px;margin-left:0">Order ID</p><p style="font-size:16px;line-height:24px;color:#1f2937;font-weight:600;margin:0;margin-top:0;margin-bottom:0;margin-left:0;margin-right:0">{{order_id}}</p></div></td></tr><tr><td style="display:flex;align-items:center;padding:12px 0;border-bottom:1px solid rgba(59, 130, 246, 0.1)"><div style="margin-right:12px;display:flex;align-items:center"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#3b82f6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg></div><div style="flex:1"><p style="font-size:12px;line-height:24px;color:#6b7280;margin:0 0 4px 0;text-transform:uppercase;letter-spacing:0.5px;margin-top:0;margin-right:0;margin-bottom:4px;margin-left:0">Delivered On</p><p style="font-size:16px;line-height:24px;color:#1f2937;font-weight:600;margin:0;margin-top:0;margin-bottom:0;margin-left:0;margin-right:0">{{delivery_date}}</p></div></td></tr><tr><td style="display:flex;align-items:center;padding:12px 0;border-bottom:1px solid rgba(59, 130, 246, 0.1)"><div style="margin-right:12px;display:flex;align-items:center"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#3b82f6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg></div><div style="flex:1"><p style="font-size:12px;line-height:24px;color:#6b7280;margin:0 0 4px 0;text-transform:uppercase;letter-spacing:0.5px;margin-top:0;margin-right:0;margin-bottom:4px;margin-left:0">Delivery Address</p><p style="font-size:16px;line-height:24px;color:#1f2937;font-weight:600;margin:0;margin-top:0;margin-bottom:0;margin-left:0;margin-right:0">{{delivery_address}}</p></div></td></tr></table></div><div style="background-color:rgba(59, 130, 246, 0.05);border-radius:12px;padding:24px;margin:24px 0;text-align:center;border:2px dashed rgba(59, 130, 246, 0.2)"><p style="font-size:18px;line-height:24px;font-weight:600;color:#1f2937;margin:0 0 8px 0;margin-top:0;margin-right:0;margin-bottom:8px;margin-left:0">How was your experience?</p><p style="font-size:14px;line-height:24px;color:#6b7280;margin:0;margin-top:0;margin-bottom:0;margin-left:0;margin-right:0">We&#x27;d love to hear your feedback! Your opinion helps us improve our service.</p></div><p style="font-size:16px;line-height:24px;color:#4b5563;text-align:center;margin:24px 0 0 0;font-style:italic;margin-top:24px;margin-right:0;margin-bottom:0;margin-left:0">Thank you for shopping with Snippy Mart! We look forward to serving you again.</p></td></tr></tbody></table><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="margin-top:32px;text-align:center"><tbody><tr><td><p style="font-size:14px;line-height:24px;color:#6b7280;margin:8px 0;margin-top:8px;margin-right:0;margin-bottom:8px;margin-left:0">Need help? Contact us at<!-- --> <a href="mailto:support@snippymart.com" style="color:#3b82f6;text-decoration:none">support@snippymart.com</a></p><p style="font-size:14px;line-height:24px;color:#6b7280;margin:8px 0;margin-top:8px;margin-right:0;margin-bottom:8px;margin-left:0">Â© 2026 Snippy Mart. All rights reserved.</p></td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table></body></html><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="padding:28px 24px;background:rgba(15, 23, 42, 0.5);border-top:1px solid rgba(255, 255, 255, 0.08);text-align:center"><tbody><tr><td><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation"><tbody style="width:100%"><tr style="width:100%"><td align="center" data-id="__react-email-column" style="padding-bottom:15px"><table role="presentation" border="0" cellPadding="0" cellSpacing="0"><tr><td style="padding:0 6px"><a href="https://snippymart.com" style="display:inline-block;width:36px;height:36px;background:rgba(255, 255, 255, 0.1);border-radius:50%;text-align:center;line-height:36px;text-decoration:none;font-size:16px">ğŸŒ</a></td><td style="padding:0 6px"><a href="https://wa.me/94787767869" style="display:inline-block;width:36px;height:36px;background:rgba(37, 211, 102, 0.2);border-radius:50%;text-align:center;line-height:36px;text-decoration:none;font-size:16px">ğŸ’¬</a></td><td style="padding:0 6px"><a href="https://instagram.com/snippymart" style="display:inline-block;width:36px;height:36px;background:rgba(228, 64, 95, 0.2);border-radius:50%;text-align:center;line-height:36px;text-decoration:none;font-size:16px">ğŸ“¸</a></td></tr></table></td></tr></tbody></table><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation"><tbody style="width:100%"><tr style="width:100%"><td align="center" data-id="__react-email-column"><p style="font-size:12px;line-height:24px;margin:0 0 6px;color:#94a3b8;margin-top:0;margin-right:0;margin-bottom:6px;margin-left:0">Snippy Mart â€¢ Premium Digital Subscriptions</p><p style="font-size:11px;line-height:24px;margin:0;color:#64748b;margin-top:0;margin-bottom:0;margin-left:0;margin-right:0">Â© 2026 All rights reserved</p></td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table></body></html><!--/$-->',
    'Sent when order status changes to completed/delivered',
    '["customer_name", "order_id", "delivery_date", "delivery_address", "tracking_number"]'::jsonb,
    true
)
ON CONFLICT (template_key) DO UPDATE 
SET subject = EXCLUDED.subject, 
    html_content = EXCLUDED.html_content, 
    variables = EXCLUDED.variables,
    description = EXCLUDED.description,
    updated_at = NOW();


-- PAYMENT REJECTED
INSERT INTO email_templates (template_key, name, subject, html_content, description, variables, is_active)
VALUES 
(
    'payment_rejected', 
    'Payment Rejected', 
    'âš ï¸ Payment Issue - Action Required for {{order_id}}',
    '<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><!--$--><html dir="ltr" lang="en"><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/><meta name="x-apple-disable-message-reformatting"/></head><body style="background-color:#f5f5f5"><table border="0" width="100%" cellPadding="0" cellSpacing="0" role="presentation" align="center"><tbody><tr><td style="background-color:#f5f5f5;font-family:-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Helvetica, Arial, sans-serif;padding:20px 0"><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="max-width:600px;margin:0 auto;padding:0 10px"><tbody><tr style="width:100%"><td><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="background:linear-gradient(135deg, #1e293b 0%, #0f172a 100%);border-radius:20px;box-shadow:0 20px 60px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.05);overflow:hidden"><tbody><tr><td><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="padding:32px 24px 24px;text-align:center"><tbody><tr><td><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation"><tbody style="width:100%"><tr style="width:100%"><td data-id="__react-email-column" style="width:48px;padding-right:12px"><div style="width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg, #ef4444 0%, #dc2626 100%);box-shadow:0 8px 24px rgba(239, 68, 68, 0.4)"><div style="color:#ffffff"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path></svg></div></div></td><td data-id="__react-email-column"><h1 style="margin:0;color:#ffffff;font-size:26px;font-weight:800;letter-spacing:-0.5px">Snippy <span style="color:#ef4444">Mart</span></h1></td></tr></tbody></table></td></tr></tbody></table><html dir="ltr" lang="en"><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/><meta name="x-apple-disable-message-reformatting"/></head><div style="display:none;overflow:hidden;line-height:1px;opacity:0;max-height:0;max-width:0" data-skip-in-text="true">Payment for order {{order_id}} was declined - Please retry<div>Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿ Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿</div></div><body style="background-color:#f3f4f6"><table border="0" width="100%" cellPadding="0" cellSpacing="0" role="presentation" align="center"><tbody><tr><td style="background-color:#f3f4f6;font-family:-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, sans-serif"><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="max-width:600px;margin:0 auto;padding:20px 0"><tbody><tr style="width:100%"><td><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="text-align:center;padding:20px 0"><tbody><tr><td><div style="display:inline-block;background:linear-gradient(135deg, #ef4444 0%, #dc2626 100%);border-radius:50%;padding:20px;box-shadow:0 10px 30px rgba(239, 68, 68, 0.3)"><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg></div></td></tr></tbody></table><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="background-color:#ffffff;border-radius:16px;padding:40px;box-shadow:0 4px 20px rgba(0, 0, 0, 0.08)"><tbody><tr><td><p style="font-size:28px;line-height:24px;font-weight:700;color:#1f2937;margin:0 0 20px 0;text-align:center;margin-top:0;margin-right:0;margin-bottom:20px;margin-left:0">Payment Declined</p><p style="font-size:16px;line-height:24px;color:#4b5563;margin:0 0 16px 0;margin-top:0;margin-right:0;margin-bottom:16px;margin-left:0">Hi <!-- -->{{customer_name}}<!-- -->,</p><p style="font-size:16px;line-height:24px;color:#4b5563;margin:0 0 16px 0;margin-top:0;margin-right:0;margin-bottom:16px;margin-left:0">We were unable to process your payment for order <strong>{{order_id}}</strong>. Don&#x27;t worry - your order is still reserved for the next 24 hours.</p><div style="background-color:rgba(239, 68, 68, 0.05);border-radius:12px;padding:24px;margin:24px 0;border:1px solid rgba(239, 68, 68, 0.1)"><table style="width:100%" cellPadding="0" cellSpacing="0"><tr><td style="display:flex;align-items:center;padding:12px 0;border-bottom:1px solid rgba(239, 68, 68, 0.1)"><div style="margin-right:12px;display:flex;align-items:center"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect><line x1="1" y1="10" x2="23" y2="10"></line></svg></div><div style="flex:1"><p style="font-size:12px;line-height:24px;color:#6b7280;margin:0 0 4px 0;text-transform:uppercase;letter-spacing:0.5px;margin-top:0;margin-right:0;margin-bottom:4px;margin-left:0">Order ID</p><p style="font-size:16px;line-height:24px;color:#1f2937;font-weight:600;margin:0;margin-top:0;margin-bottom:0;margin-left:0;margin-right:0">{{order_id}}</p></div></td></tr><tr><td style="display:flex;align-items:center;padding:12px 0;border-bottom:1px solid rgba(239, 68, 68, 0.1)"><div style="margin-right:12px;display:flex;align-items:center"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg></div><div style="flex:1"><p style="font-size:12px;line-height:24px;color:#6b7280;margin:0 0 4px 0;text-transform:uppercase;letter-spacing:0.5px;margin-top:0;margin-right:0;margin-bottom:4px;margin-left:0">Reason</p><p style="font-size:16px;line-height:24px;color:#1f2937;font-weight:600;margin:0;margin-top:0;margin-bottom:0;margin-left:0;margin-right:0">{{rejection_reason}}</p></div></td></tr><tr><td style="display:flex;align-items:center;padding:12px 0;border-bottom:1px solid rgba(239, 68, 68, 0.1)"><div style="margin-right:12px;display:flex;align-items:center"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect><line x1="1" y1="10" x2="23" y2="10"></line></svg></div><div style="flex:1"><p style="font-size:12px;line-height:24px;color:#6b7280;margin:0 0 4px 0;text-transform:uppercase;letter-spacing:0.5px;margin-top:0;margin-right:0;margin-bottom:4px;margin-left:0">Amount</p><p style="font-size:16px;line-height:24px;color:#1f2937;font-weight:600;margin:0;margin-top:0;margin-bottom:0;margin-left:0;margin-right:0">{{order_total}}</p></div></td></tr></table></div><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="text-align:center;margin:32px 0"><tbody><tr><td><a href="{{retry_url}}" style="line-height:100%;text-decoration:none;display:inline-flex;max-width:100%;mso-padding-alt:0px;background-color:#ef4444;border-radius:8px;color:#ffffff;font-size:16px;font-weight:600;text-align:center;padding:14px 32px;align-items:center;justify-content:center;background:linear-gradient(135deg, #ef4444 0%, #dc2626 100%);box-shadow:0 4px 12px rgba(239, 68, 68, 0.3);padding-top:14px;padding-right:32px;padding-bottom:14px;padding-left:32px" target="_blank"><span><!--[if mso]><i style="mso-font-width:400%;mso-text-raise:21" hidden>&#8202;&#8202;&#8202;&#8202;</i><![endif]--></span><span style="max-width:100%;display:inline-block;line-height:120%;mso-padding-alt:0px;mso-text-raise:10.5px"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg><span style="margin-left:8px">Retry Payment Now</span></span><span><!--[if mso]><i style="mso-font-width:400%" hidden>&#8202;&#8202;&#8202;&#8202;&#8203;</i><![endif]--></span></a></td></tr></tbody></table><div style="background-color:rgba(239, 68, 68, 0.05);border-radius:12px;padding:24px;margin:24px 0;border:1px solid rgba(239, 68, 68, 0.1)"><div style="text-align:center;margin-bottom:12px"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line></svg></div><p style="font-size:18px;line-height:24px;font-weight:600;color:#1f2937;margin:0 0 16px 0;text-align:center;margin-top:0;margin-right:0;margin-bottom:16px;margin-left:0">Common Solutions</p><ul style="margin:0;padding:0 0 0 20px;color:#4b5563"><li style="font-size:14px;line-height:24px;margin-bottom:8px">Verify your card has sufficient funds</li><li style="font-size:14px;line-height:24px;margin-bottom:8px">Check if your card is activated for online payments</li><li style="font-size:14px;line-height:24px;margin-bottom:8px">Try a different payment method</li><li style="font-size:14px;line-height:24px;margin-bottom:8px">Contact your bank if the issue persists</li></ul></div><p style="font-size:16px;line-height:24px;color:#4b5563;text-align:center;margin:24px 0 0 0;margin-top:24px;margin-right:0;margin-bottom:0;margin-left:0">Need assistance? Our support team is here to help!<br/><a href="mailto:support@snippymart.com" style="color:#ef4444;text-decoration:none;font-weight:600">support@snippymart.com</a></p></td></tr></tbody></table><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="margin-top:32px;text-align:center"><tbody><tr><td><p style="font-size:14px;line-height:24px;color:#6b7280;margin:8px 0;margin-top:8px;margin-right:0;margin-bottom:8px;margin-left:0">This order will be automatically cancelled if payment is not received within 24 hours.</p><p style="font-size:14px;line-height:24px;color:#6b7280;margin:8px 0;margin-top:8px;margin-right:0;margin-bottom:8px;margin-left:0">Â© 2026 Snippy Mart. All rights reserved.</p></td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table></body></html><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="padding:28px 24px;background:rgba(15, 23, 42, 0.5);border-top:1px solid rgba(255, 255, 255, 0.08);text-align:center"><tbody><tr><td><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation"><tbody style="width:100%"><tr style="width:100%"><td align="center" data-id="__react-email-column" style="padding-bottom:15px"><table role="presentation" border="0" cellPadding="0" cellSpacing="0"><tr><td style="padding:0 6px"><a href="https://snippymart.com" style="display:inline-block;width:36px;height:36px;background:rgba(255, 255, 255, 0.1);border-radius:50%;text-align:center;line-height:36px;text-decoration:none;font-size:16px">ğŸŒ</a></td><td style="padding:0 6px"><a href="https://wa.me/94787767869" style="display:inline-block;width:36px;height:36px;background:rgba(37, 211, 102, 0.2);border-radius:50%;text-align:center;line-height:36px;text-decoration:none;font-size:16px">ğŸ’¬</a></td><td style="padding:0 6px"><a href="https://instagram.com/snippymart" style="display:inline-block;width:36px;height:36px;background:rgba(228, 64, 95, 0.2);border-radius:50%;text-align:center;line-height:36px;text-decoration:none;font-size:16px">ğŸ“¸</a></td></tr></table></td></tr></tbody></table><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation"><tbody style="width:100%"><tr style="width:100%"><td align="center" data-id="__react-email-column"><p style="font-size:12px;line-height:24px;margin:0 0 6px;color:#94a3b8;margin-top:0;margin-right:0;margin-bottom:6px;margin-left:0">Snippy Mart â€¢ Premium Digital Subscriptions</p><p style="font-size:11px;line-height:24px;margin:0;color:#64748b;margin-top:0;margin-bottom:0;margin-left:0;margin-right:0">Â© 2026 All rights reserved</p></td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table></body></html><!--/$-->',
    'Sent when payment is declined or rejected',
    '["customer_name", "order_id", "rejection_reason", "order_total", "retry_url"]'::jsonb,
    true
)
ON CONFLICT (template_key) DO UPDATE 
SET subject = EXCLUDED.subject, 
    html_content = EXCLUDED.html_content, 
    variables = EXCLUDED.variables,
    description = EXCLUDED.description,
    updated_at = NOW();


-- STATUS UPDATE
INSERT INTO email_templates (template_key, name, subject, html_content, description, variables, is_active)
VALUES 
(
    'status_update', 
    'Status Update', 
    'ğŸ“¦ Order Update - {{order_id}}',
    '<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><!--$--><html dir="ltr" lang="en"><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/><meta name="x-apple-disable-message-reformatting"/></head><body style="background-color:#f5f5f5"><table border="0" width="100%" cellPadding="0" cellSpacing="0" role="presentation" align="center"><tbody><tr><td style="background-color:#f5f5f5;font-family:-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, Helvetica, Arial, sans-serif;padding:20px 0"><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="max-width:600px;margin:0 auto;padding:0 10px"><tbody><tr style="width:100%"><td><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="background:linear-gradient(135deg, #1e293b 0%, #0f172a 100%);border-radius:20px;box-shadow:0 20px 60px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.05);overflow:hidden"><tbody><tr><td><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="padding:32px 24px 24px;text-align:center"><tbody><tr><td><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation"><tbody style="width:100%"><tr style="width:100%"><td data-id="__react-email-column" style="width:48px;padding-right:12px"><div style="width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);box-shadow:0 8px 24px rgba(139, 92, 246, 0.4)"><div style="color:#ffffff"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path></svg></div></div></td><td data-id="__react-email-column"><h1 style="margin:0;color:#ffffff;font-size:26px;font-weight:800;letter-spacing:-0.5px">Snippy <span style="color:#8b5cf6">Mart</span></h1></td></tr></tbody></table></td></tr></tbody></table><html dir="ltr" lang="en"><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/><meta name="x-apple-disable-message-reformatting"/></head><div style="display:none;overflow:hidden;line-height:1px;opacity:0;max-height:0;max-width:0" data-skip-in-text="true">Update on your order {{order_id}}<div>Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿Â â€Œâ€‹â€â€â€ï»¿</div></div><body style="background-color:#f3f4f6"><table border="0" width="100%" cellPadding="0" cellSpacing="0" role="presentation" align="center"><tbody><tr><td style="background-color:#f3f4f6;font-family:-apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, sans-serif"><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="max-width:600px;margin:0 auto;padding:20px 0"><tbody><tr style="width:100%"><td><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="text-align:center;padding:20px 0"><tbody><tr><td><div style="display:inline-block;background:linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);border-radius:50%;padding:20px;box-shadow:0 10px 30px rgba(139, 92, 246, 0.3)"><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg></div></td></tr></tbody></table><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="background-color:#ffffff;border-radius:16px;padding:40px;box-shadow:0 4px 20px rgba(0, 0, 0, 0.08)"><tbody><tr><td><p style="font-size:28px;line-height:24px;font-weight:700;color:#1f2937;margin:0 0 20px 0;text-align:center;margin-top:0;margin-right:0;margin-bottom:20px;margin-left:0">Order Update</p><p style="font-size:16px;line-height:24px;color:#4b5563;margin:0 0 16px 0;margin-top:0;margin-right:0;margin-bottom:16px;margin-left:0">Hi <!-- -->{{customer_name}}<!-- -->,</p><p style="font-size:16px;line-height:24px;color:#4b5563;margin:0 0 16px 0;margin-top:0;margin-right:0;margin-bottom:16px;margin-left:0">We have an update on your order <strong>{{order_id}}</strong>.</p><div style="background-color:rgba(139, 92, 246, 0.05);border-radius:12px;padding:24px;margin:24px 0;text-align:center;border:1px solid rgba(139, 92, 246, 0.1)"><p style="font-size:14px;line-height:24px;display:inline-block;background:linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);color:#ffffff;padding:8px 20px;border-radius:20px;font-weight:600;margin:0 0 12px 0;margin-top:0;margin-right:0;margin-bottom:12px;margin-left:0">{{current_status}}</p><p style="0:{;1:{;2:s;3:t;4:a;5:t;6:u;7:s;8:_;9:m;10:e;11:s;12:s;13:a;14:g;15:e;16:};17:};font-size:14px;line-height:24px;margin-top:16px;margin-bottom:16px">{{status_message}}</p></div><div style="margin:32px 0;padding:0 20px"><div style="display:flex;align-items:flex-start;margin-bottom:24px;position:relative"><div style="width:40px;height:40px;border-radius:50%;background-color:rgba(139, 92, 246, 0.1);display:flex;align-items:center;justify-content:center;margin-right:16px;flex-shrink:0"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#8b5cf6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg></div><div style="flex:1"><p style="font-size:16px;line-height:24px;font-weight:600;color:#1f2937;margin:0 0 4px 0;margin-top:0;margin-right:0;margin-bottom:4px;margin-left:0">Order Placed</p><p style="font-size:14px;line-height:24px;color:#6b7280;margin:0;margin-top:0;margin-bottom:0;margin-left:0;margin-right:0">Your order has been confirmed</p></div></div><div style="display:flex;align-items:flex-start;margin-bottom:24px;position:relative"><div style="width:40px;height:40px;border-radius:50%;background-color:rgba(139, 92, 246, 0.1);display:flex;align-items:center;justify-content:center;margin-right:16px;flex-shrink:0"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#8b5cf6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg></div><div style="flex:1"><p style="font-size:16px;line-height:24px;font-weight:600;color:#1f2937;margin:0 0 4px 0;margin-top:0;margin-right:0;margin-bottom:4px;margin-left:0">Processing</p><p style="font-size:14px;line-height:24px;color:#6b7280;margin:0;margin-top:0;margin-bottom:0;margin-left:0;margin-right:0">We&#x27;re preparing your items</p></div></div><div style="display:flex;align-items:flex-start;margin-bottom:24px;position:relative"><div style="width:40px;height:40px;border-radius:50%;background-color:#f3f4f6;display:flex;align-items:center;justify-content:center;margin-right:16px;flex-shrink:0"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#d1d5db" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="1" y="3" width="15" height="13"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle></svg></div><div style="flex:1"><p style="font-size:16px;line-height:24px;font-weight:600;color:#9ca3af;margin:0 0 4px 0;margin-top:0;margin-right:0;margin-bottom:4px;margin-left:0">Shipped</p><p style="font-size:14px;line-height:24px;color:#6b7280;margin:0;margin-top:0;margin-bottom:0;margin-left:0;margin-right:0">On the way to you</p></div></div><div style="display:flex;align-items:flex-start;margin-bottom:24px;position:relative"><div style="width:40px;height:40px;border-radius:50%;background-color:#f3f4f6;display:flex;align-items:center;justify-content:center;margin-right:16px;flex-shrink:0"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#d1d5db" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg></div><div style="flex:1"><p style="font-size:16px;line-height:24px;font-weight:600;color:#9ca3af;margin:0 0 4px 0;margin-top:0;margin-right:0;margin-bottom:4px;margin-left:0">Delivered</p><p style="font-size:14px;line-height:24px;color:#6b7280;margin:0;margin-top:0;margin-bottom:0;margin-left:0;margin-right:0">Arrives at your doorstep</p></div></div></div><div style="background-color:rgba(139, 92, 246, 0.05);border-radius:12px;padding:20px;margin:24px 0;display:flex;align-items:center;border:1px solid rgba(139, 92, 246, 0.1)"><div style="margin-right:16px"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#8b5cf6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg></div><div><p style="font-size:12px;line-height:24px;color:#6b7280;margin:0 0 4px 0;text-transform:uppercase;letter-spacing:0.5px;margin-top:0;margin-right:0;margin-bottom:4px;margin-left:0">Estimated Delivery</p><p style="font-size:18px;line-height:24px;color:#1f2937;font-weight:600;margin:0;margin-top:0;margin-bottom:0;margin-left:0;margin-right:0">{{estimated_delivery}}</p></div></div><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="text-align:center;margin:32px 0"><tbody><tr><td><a href="{{tracking_url}}" style="line-height:100%;text-decoration:none;display:inline-flex;max-width:100%;mso-padding-alt:0px;background-color:#8b5cf6;border-radius:8px;color:#ffffff;font-size:16px;font-weight:600;text-align:center;padding:14px 32px;align-items:center;justify-content:center;background:linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);box-shadow:0 4px 12px rgba(139, 92, 246, 0.3);padding-top:14px;padding-right:32px;padding-bottom:14px;padding-left:32px" target="_blank"><span><!--[if mso]><i style="mso-font-width:400%;mso-text-raise:21" hidden>&#8202;&#8202;&#8202;&#8202;</i><![endif]--></span><span style="max-width:100%;display:inline-block;line-height:120%;mso-padding-alt:0px;mso-text-raise:10.5px"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg><span style="margin-left:8px">Track Your Order</span></span><span><!--[if mso]><i style="mso-font-width:400%" hidden>&#8202;&#8202;&#8202;&#8202;&#8203;</i><![endif]--></span></a></td></tr></tbody></table><p style="font-size:16px;line-height:24px;color:#4b5563;text-align:center;margin:24px 0 0 0;font-style:italic;margin-top:24px;margin-right:0;margin-bottom:0;margin-left:0">Thank you for your patience! We&#x27;ll notify you when your order ships.</p></td></tr></tbody></table><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="margin-top:32px;text-align:center"><tbody><tr><td><p style="font-size:14px;line-height:24px;color:#6b7280;margin:8px 0;margin-top:8px;margin-right:0;margin-bottom:8px;margin-left:0">Questions? Contact us at<!-- --> <a href="mailto:support@snippymart.com" style="color:#8b5cf6;text-decoration:none">support@snippymart.com</a></p><p style="font-size:14px;line-height:24px;color:#6b7280;margin:8px 0;margin-top:8px;margin-right:0;margin-bottom:8px;margin-left:0">Â© 2026 Snippy Mart. All rights reserved.</p></td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table></body></html><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation" style="padding:28px 24px;background:rgba(15, 23, 42, 0.5);border-top:1px solid rgba(255, 255, 255, 0.08);text-align:center"><tbody><tr><td><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation"><tbody style="width:100%"><tr style="width:100%"><td align="center" data-id="__react-email-column" style="padding-bottom:15px"><table role="presentation" border="0" cellPadding="0" cellSpacing="0"><tr><td style="padding:0 6px"><a href="https://snippymart.com" style="display:inline-block;width:36px;height:36px;background:rgba(255, 255, 255, 0.1);border-radius:50%;text-align:center;line-height:36px;text-decoration:none;font-size:16px">ğŸŒ</a></td><td style="padding:0 6px"><a href="https://wa.me/94787767869" style="display:inline-block;width:36px;height:36px;background:rgba(37, 211, 102, 0.2);border-radius:50%;text-align:center;line-height:36px;text-decoration:none;font-size:16px">ğŸ’¬</a></td><td style="padding:0 6px"><a href="https://instagram.com/snippymart" style="display:inline-block;width:36px;height:36px;background:rgba(228, 64, 95, 0.2);border-radius:50%;text-align:center;line-height:36px;text-decoration:none;font-size:16px">ğŸ“¸</a></td></tr></table></td></tr></tbody></table><table align="center" width="100%" border="0" cellPadding="0" cellSpacing="0" role="presentation"><tbody style="width:100%"><tr style="width:100%"><td align="center" data-id="__react-email-column"><p style="font-size:12px;line-height:24px;margin:0 0 6px;color:#94a3b8;margin-top:0;margin-right:0;margin-bottom:6px;margin-left:0">Snippy Mart â€¢ Premium Digital Subscriptions</p><p style="font-size:11px;line-height:24px;margin:0;color:#64748b;margin-top:0;margin-bottom:0;margin-left:0;margin-right:0">Â© 2026 All rights reserved</p></td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table></body></html><!--/$-->',
    'Sent when order status changes (processing, shipped, etc)',
    '["customer_name", "order_id", "current_status", "status_message", "estimated_delivery", "tracking_url"]'::jsonb,
    true
)
ON CONFLICT (template_key) DO UPDATE 
SET subject = EXCLUDED.subject, 
    html_content = EXCLUDED.html_content, 
    variables = EXCLUDED.variables,
    description = EXCLUDED.description,
    updated_at = NOW();

